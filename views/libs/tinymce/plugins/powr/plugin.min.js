function isScriptLoaded(t){for(var e=t.getElementsByTagName("script"),n=e.length;n--;)if("https://www.powr.io/powr.js?platform=tinymce"==e[n].src)return!0;return!1}function removeScript(t){for(var e=t.getElementsByTagName("script"),n=e.length;n--;)"https://www.powr.io/powr.js?platform=tinymce"==e[n].src&&e[n].remove();return!1}tinymce.PluginManager.requireLangPack("powr"),tinymce.PluginManager.add("powr",function(t,e){t.on("LoadContent",function(e){var n=t.dom.create("script",{src:"https://www.powr.io/powr.js?platform=tinymce",async:!0});isScriptLoaded(tinymce.activeEditor.getBody())||tinymce.activeEditor.getBody().appendChild(n),removeScript(tinymce.activeEditor.getBody())});var n=function(e){var n="xxxxxxxx_".replace(/[x]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})+(new Date).getTime();t.insertContent('<div class="powr-'+e+'" id='+n+"></div>")};t.ui.registry.addIcon("powr-icon",'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1024 1024" style="height: 25px;" xml:space="preserve"> <style type="text/css"> .st0{fill:#5287DF;}</style> <path class="st0" d="M546.5,74.5v236.1h-69V74.4c-152.3,17-273.6,147.4-273.6,305.7c0,0.9,0,2.8,0,2.9v418c0,0.7,0.2,1.6,0.3,2.3 c1.2,4.5,3.2,7.6,5,10.2c2.2,3.2,4.1,5.4,5.2,6.7c66.5,74.8,166.4,115.7,271.2,132.9c13.6,2.2,26.8-4.4,28.7-19.9 c0.5-4.4,0.4-245.5,0.4-245.5c0,0,0,0,0,0c163.5-1.4,296.7-130.5,304.6-292.4C827.4,231.1,704.7,92.2,546.5,74.5 M512.1,604.4 c-124.6,0-225.5-101-225.5-225.6c0-87.7,50.6-163.7,123.1-201v80.4c-33.3,28.8-54.8,71.5-54.8,119.2c0,86.8,70.3,157.2,157.2,157.2 s157-70.4,157-157.2c0-47.6-20.3-90.3-54.8-119.2v-80.4c72.6,37.3,123.2,113.3,123.2,201C737.5,503.4,636.7,604.4,512.1,604.4"/></svg>'),t.ui.registry.addMenuButton("powr",{title:t.translate("POWr Plugin"),tooltip:t.translate("Insert POWr Forms"),icon:"powr-icon",text:"POWr",fetch:function(e){e([{type:"nestedmenuitem",text:t.translate("Popular"),getSubmenuItems:function(){return[{type:"menuitem",text:t.translate("Form Builder"),onAction:function(){n("form-builder")}},{type:"menuitem",text:t.translate("Popup"),onAction:function(){n("popup")}},{type:"menuitem",text:t.translate("Media Gallery"),onAction:function(){n("media-gallery")}},{type:"menuitem",text:t.translate("Social Feed"),onAction:function(){n("social-feed")}},{type:"menuitem",text:t.translate("Multi Slider"),onAction:function(){n("multi-slider")}},{type:"menuitem",text:t.translate("Countdown Timer"),onAction:function(){n("countdown-timer")}},{type:"menuitem",text:t.translate("FAQ"),onAction:function(){n("faq")}},{type:"menuitem",text:t.translate("Chat"),onAction:function(){n("chat")}},{type:"menuitem",text:t.translate("Ecommerce"),onAction:function(){n("ecommerce")}},{type:"menuitem",text:"Comments",onAction:function(){n("comments")}},{type:"menuitem",text:t.translate("Social Media Icons"),onAction:function(){n("social-media-icons")}},{type:"menuitem",text:t.translate("Price Table"),onAction:function(){n("price-table")}}]}},{type:"nestedmenuitem",text:t.translate("Forms & Surveys"),getSubmenuItems:function(){return[{type:"menuitem",text:t.translate("Contact Form"),onAction:function(){n("contact-form")}},{type:"menuitem",text:t.translate("Form Builder"),onAction:function(){n("form-builder")}},{type:"menuitem",text:t.translate("Mailing List"),onAction:function(){n("mailing-list")}},{type:"menuitem",text:t.translate("Order Form"),onAction:function(){n("order-form")}},{type:"menuitem",text:t.translate("Poll"),onAction:function(){n("poll")}},{type:"menuitem",text:t.translate("Survey"),onAction:function(){n("survey")}}]}},{type:"nestedmenuitem",text:t.translate("Galleries & Sliders"),getSubmenuItems:function(){return[{type:"menuitem",text:t.translate("Banner Slider"),onAction:function(){n("banner-slider")}},{type:"menuitem",text:t.translate("Event Gallery"),onAction:function(){n("event-gallery")}},{type:"menuitem",text:t.translate("Event Slider"),onAction:function(){n("event-slider")}},{type:"menuitem",text:t.translate("Flickr Gallery"),onAction:function(){n("flickr-gallery")}},{type:"menuitem",text:t.translate("Image Slider"),onAction:function(){n("image-slider")}},{type:"menuitem",text:t.translate("Media Gallery"),onAction:function(){n("media-gallery")}},{type:"menuitem",text:t.translate("Microblog"),onAction:function(){n("microblog")}},{type:"menuitem",text:t.translate("Multi-Slider"),onAction:function(){n("multi-slider")}},{type:"menuitem",text:t.translate("Photo Gallery"),onAction:function(){n("photo-gallery")}},{type:"menuitem",text:t.translate("Video Gallery"),onAction:function(){n("video-gallery")}},{type:"menuitem",text:t.translate("Video Slider"),onAction:function(){n("video-slider")}},{type:"menuitem",text:t.translate("Youtube Gallery"),onAction:function(){n("youtube-gallery")}}]}},{type:"nestedmenuitem",text:t.translate("Social"),getSubmenuItems:function(){return[{type:"menuitem",text:t.translate("Chat"),onAction:function(){n("chat")}},{type:"menuitem",text:t.translate("Comments"),onAction:function(){n("comments")}},{type:"menuitem",text:t.translate("Facebook Feed"),onAction:function(){n("facebook-feed")}},{type:"menuitem",text:t.translate("Instagram Feed"),onAction:function(){n("instagram-feed")}},{type:"menuitem",text:t.translate("Pinterest Feed"),onAction:function(){n("pinterest-feed")}},{type:"menuitem",text:t.translate("Reviews"),onAction:function(){n("reviews")}},{type:"menuitem",text:t.translate("RSS Feed"),onAction:function(){n("rss-feed")}},{type:"menuitem",text:t.translate("Social Feed"),onAction:function(){n("social-feed")}},{type:"menuitem",text:t.translate("Social Media Icons"),onAction:function(){n("social-media-icons")}},{type:"menuitem",text:t.translate("Tumblr Feed"),onAction:function(){n("tumblr-Feed")}},{type:"menuitem",text:t.translate("Twitter Feed"),onAction:function(){n("twitter-feed")}}]}},{type:"nestedmenuitem",text:t.translate("eCommerce"),getSubmenuItems:function(){return[{type:"menuitem",text:t.translate("Ecommerce"),onAction:function(){n("ecommerce")}},{type:"menuitem",text:t.translate("Digital Download"),onAction:function(){n("digital-download")}},{type:"menuitem",text:t.translate("Paypal Button"),onAction:function(){n("paypal-button")}},{type:"menuitem",text:t.translate("Plan Comparison"),onAction:function(){n("plan-comparison")}},{type:"menuitem",text:t.translate("Price Table"),onAction:function(){n("price-table")}}]}},{type:"nestedmenuitem",text:"Miscellaneous",getSubmenuItems:function(){return[{type:"menuitem",text:t.translate("About Us"),onAction:function(){n("about-us")}},{type:"menuitem",text:t.translate("Button"),onAction:function(){n("button")}},{type:"menuitem",text:t.translate("Countdown Timer"),onAction:function(){n("countdown-timer")}},{type:"menuitem",text:t.translate("Count Up Timer"),onAction:function(){n("count-up-timer")}},{type:"menuitem",text:t.translate("Price Table"),onAction:function(){n("price-table")}},{type:"menuitem",text:t.translate("FAQ"),onAction:function(){n("faq")}},{type:"menuitem",text:t.translate("Graph"),onAction:function(){n("graph")}},{type:"menuitem",text:t.translate("Hit Counter"),onAction:function(){n("hit-counter")}},{type:"menuitem",text:t.translate("Job Board"),onAction:function(){n("job-board")}},{type:"menuitem",text:t.translate("Map"),onAction:function(){n("map")}},{type:"menuitem",text:t.translate("Menu"),onAction:function(){n("menu")}},{type:"menuitem",text:t.translate("Music Player"),onAction:function(){n("music-player")}},{type:"menuitem",text:t.translate("Notification Bar"),onAction:function(){n("notification-bar")}},{type:"menuitem",text:t.translate("Popup"),onAction:function(){n("popup")}},{type:"menuitem",text:t.translate("Resume"),onAction:function(){n("resume")}},{type:"menuitem",text:t.translate("Scroll to Top"),onAction:function(){n("scroll-to-top")}},{type:"menuitem",text:t.translate("Tabs"),onAction:function(){n("tabs")}},{type:"menuitem",text:t.translate("weather"),onAction:function(){n("weather")}}]}}])}})});