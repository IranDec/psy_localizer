# تغییر کتابخانه تقویم شمسی

در این نسخه از ماژول، کتابخانه تقویم شمسی `morilog/jalali` با کتابخانه `hekmatinasser/verta` جایگزین شده است. این کتابخانه جدید دارای محاسبات دقیق‌تر برای سال‌های کبیسه و تبدیل تاریخ است و مشکلات موجود در کتابخانه قبلی را برطرف می‌کند.

## تغییرات اصلی

1. **تغییر کتابخانه PHP**:
   - کتابخانه `morilog/jalali` با `hekmatinasser/verta` جایگزین شده
   - یک کلاس آداپتور `JalaliAdapter` ایجاد شده تا سازگاری با کدهای موجود حفظ شود

2. **اضافه شدن کلاس کمکی**:
   - کلاس `JalaliHelper` برای ارائه توابع کمکی تقویم شمسی ایجاد شده
   - توابع تبدیل اعداد به فارسی و بالعکس
   - توابع دریافت نام ماه‌ها و روزهای هفته به فارسی

3. **توابع JavaScript**:
   - یک ماژول JavaScript جدید به نام `JalaliHelper` ایجاد شده است
   - پیاده‌سازی تبدیل تاریخ میلادی به شمسی در سمت کاربر
   - پیاده‌سازی تقویم شمسی با محاسبات دقیق سال‌های کبیسه

## مزایای کتابخانه جدید

1. **محاسبات دقیق‌تر برای سال‌های کبیسه**:
   - تشخیص صحیح سال‌های کبیسه در تقویم شمسی
   - محاسبه صحیح تعداد روزهای ماه اسفند (۲۹ یا ۳۰ روز)

2. **روز‌های هفته صحیح**:
   - محاسبه دقیق روزهای هفته در انتقال بین سال‌ها
   - روز جمعه، ۱ فروردین ۱۴۰۴ و پنج‌شنبه، ۳۰ اسفند ۱۴۰۳ به درستی نمایش داده می‌شوند

3. **کارایی و پایداری بیشتر**:
   - کتابخانه `verta` به طور فعال پشتیبانی می‌شود
   - عملکرد بهتر و سازگاری بیشتر با نسخه‌های مختلف PHP

## نحوه استفاده

این تغییرات به صورت شفاف اعمال شده‌اند و نیازی به تغییر کدهای موجود نیست. پس از نصب این نسخه، تقویم شمسی به درستی کار خواهد کرد.

### استفاده از کلاس JalaliAdapter:

```php
use PrestaYar\Localizer\JalaliAdapter;

// تبدیل تاریخ میلادی به شمسی
$jalaliDate = JalaliAdapter::toJalali(2025, 3, 21); // [1404, 1, 1]

// تبدیل تاریخ شمسی به میلادی
$gregorianDate = JalaliAdapter::toGregorian(1403, 12, 30); // [2025, 3, 20]

// ایجاد یک نمونه از تاریخ شمسی
$date = new JalaliAdapter(1404, 1, 1);
echo $date->format('Y/m/d'); // 1404/01/01
```

### استفاده از کلاس JalaliHelper:

```php
use PrestaYar\Localizer\JalaliHelper;

// تبدیل تاریخ میلادی به شمسی
$jalaliDate = JalaliHelper::dateToJalali('2025-03-21', 'Y/m/d');

// بررسی سال کبیسه
$isLeap = JalaliHelper::isLeapYear(1403); // true

// تعداد روزهای ماه اسفند
$days = JalaliHelper::daysInMonth(1403, 12); // 30
```

### استفاده از JavaScript:

```javascript
// تبدیل تاریخ میلادی به شمسی
var jalaliDate = JalaliHelper.toJalali(new Date(2025, 2, 21), 'Y/m/d');

// بررسی سال کبیسه
var isLeap = JalaliHelper.isLeapYear(1403); // true

// تبدیل اعداد به فارسی
var persianDate = JalaliHelper.convertToPersianDigits('1404/01/01'); // ۱۴۰۴/۰۱/۰۱
```

## توسعه دهنده

**Mohammad Babaei**
- Website: https://adschi.com
- Email: info@adschi.com 